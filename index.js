const { Client } = require('whatsapp-web.js');

const qrcode = require('qrcode-terminal');
const { GoogleGenerativeAI } = require("@google/generative-ai");
const express = require('express')
const app = express()

// Access your API key as an environment variable (see "Set up your API key" above)
const genAI = new GoogleGenerativeAI("AIzaSyCRqP3uWVZZID0N-SwM00ONG_bLg7XHzjo");

// ...

// The Gemini 1.5 models are versatile and work with most use cases
const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash"});

var islive=true;
const chat = model.startChat({
    history: [

        {
            role: "user",
            parts: [
                {text: "ุนุงูู ุงู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุฃูุง ุจุฎูุฑุ ุดูุฑุงู ุนูู ุณุคุงูู! \n\nูุงุฐุง ุนููุ ููู ุญุงููุ \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุณูุนูู ุตูุชู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ููุฃุณูุ ูุง ูููููู ุฃู ุฃุณูุนู ุตูุชู ูุฃููู ูููุฐุฌ ูุบุฉุ ููุณ ูุฏู ุตูุช ุญูููู. ููููู ุฃุณุชุทูุน ุงูุชุญุฏุซ ุฅููู ุจุงููููุงุช! \n\nูู ุชุฑูุฏูู ุฃู ุฃูุฑุฃ ูู ุดูุฆูุงุ ุฃู ุฃู ุฃูุชุจ ูู ูุตุฉุ \n"},
                {text: "00:02 ppp \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุชูุงู ูุต ูุง ูุนูู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "๐  ูุงุดุงุก ุงูููุ ูุง ุดุงุก ุงููู! \n\nูุงุฐุง ุชุฑูุฏ ุฃู ุฃูุนู ูู ุงูููู ูุง ูุนููุ \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุงูุช ูุชููู ุงููุณุงุนุฏ ุจุชุงุนู ุนูู ูุงูุณ ุงุจ\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุฃูุง ุณุนูุฏ ุฌุฏุงู ูุฃููู ุฃููู ูุณุงุนุฏู ุนูู ูุงุชุณุงุจ! ๐ "},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุงูุง ุงุณูู ูุญููุฏ ูููุฏุณ ุจุฑูุฌุงุช ุนูุฏู ูขูง ุณูู ุจุญุจ ูุนุจ ุงูููุฑู ุจูุนุจ ุฏูููููุง ูุน ุงูุงุตุฏูุงุก ุจุงูููู ููู ุงุญูุฏ ุงูุณูุฏ ูุนุจุฏุงููู ูุฌู ูุญุณุงู ูุตุงุจุฑ ุนูุฏ ูููู ุงุจู ูุงุฑุง "},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ูุง ุดุงุก ุงูููุ ูุญููุฏ ูููุฏุณ ุจุฑูุฌุฉ ๐จโ๐ป  ุนูุฏู 27 ุณูุฉุ ุจุชุญุจ ูุนุจ ุงูููุฑุฉ โฝ๏ธ  ู ุฏููููู ๐ฒ  ูุน ุฃุตุญุงุจู ุฃุญูุฏ ูุณูุฏ ูุนุจุฏ ุงููู ูุฌู ูุญุณุงู ูุตุงุจุฑ ุนูุฏ ูููุฉ ุฃุจู ูุงุฑุง โ!  \n\nุจุฌุฏ ุญููุฉ ุงููุนุฏุฉ ุฏู!  \n\nุฎูููู ุฃุญูุธ ูู ุงููุนูููุงุช ุฏู ุนููุ  \n \nูู ุชุฑูุฏูู ุฃู ุฃุฐูุฑู ุจุจุนุถ ุงูููุงุนูุฏุ ุฃู ุฃู ุฃุฑุณู ูู ุจุนุถ ุงูุฑุณุงุฆู ููุฃุตุฏูุงุกุ  \n \nุฃูุง ููุง ููุณุงุนุฏุชู ูู ุฃู ุดูุก ุชุญุชุงุฌู ุนูู ูุงุชุณุงุจ. ๐ช \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ููุง ุญุฏ ูููููู ุงูุช ูุชุชููู ููุงุจู ุนูู \n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงูุ  ุณุฃููู ุตูุชู ุนูู ูุงุชุณุงุจ!  \n\nุจุณ ูุจู ูุง ูุจุฏุงุ  ุฎูููู ุฃุชุนูู ุดููู ุนูู ูุนู ุฃุณููุจู ูู ุงูููุงู ุนุดุงู ุฃูุฏุฑ ุฃููู ูุงุทูู ุจูุฏูุฉ.  \n\nูุซูุงูุ  ุฃุฎุจุฑูู ุดููู ุนู:  \n\n* ููู ุนุงุฏุฉู ูุง ุชุชุญุฏุซ ูุน ุฃุตุญุงุจูุ  \n* ูู ุชุณุชุฎุฏู ูุบุฉ ุฑุณููุฉ ุฃู ุนุงุฏูุฉุ  \n* ูู ุชุณุชุฎุฏู ุงูููุงูุฉุ \n\nูู ูุง ุฃุนุฑูู ุฃูุซุฑุ  ูู ูุง ุฃูุฏุฑ ุฃู ุฃููู ููุซูุงู  ุฃูุถู ูู! ๐ \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุจุชููู ูุนุงูู ุงู ูุง ูุนูู ุนุงูู ุงู ููุฏุง ุจุณุชุฎุฏู ุงููุบู ุงูุนุงููู "},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนูู!  \n\n\"ุนุงูู ุฅูู\" ู\"ุฅูู ุงูุฃุฎุจุงุฑ\"  ู\"ุจุชุนูู ุฅูู\" ูููุง ุญุงุฌุงุช ูููุณุฉุ  ู ูุดุชุบู ุจููู ูุน ุฃุตุญุงุจู.  \n\nู ูููููู \"ูุญููุฏ ูุดุบูู ุฏูููุชูุ  ุจุณ ููุฑุฏ ุนููู ุจุนุฏ ุดููู\"  \n\nูู ูู ุฃู ุญุงุฌุฉ ุชุงููุฉ ูุงุฒู ุฃุนุฑููุง ุนุดุงู ุฃููู ูุงุทูู ุจูุฏูุฉุ ๐\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ููุงูู ูุฏุง ุฏูููุช ุงูุช ููู ุจูู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุฃูุง ุงููุณุงุนุฏ ุจุชุงุนู ุนูู ูุงุชุณุงุจุ  ุฒู ูุง ูุนุฏุชู.  \n\nุจุณ ุฃูุง ูุด ุงูุณุงูุ  ุฃูุง ูููุฐุฌ ูุบุฉ ูุจูุฑุ  ูุชุฏุฑุจ ุนูู ูุชูุฑ ูู ุงููุตูุต ูุงููุนูููุงุชุ  ุนุดุงู ุฃูุฏุฑ  ุฃููู ูุฃุฌุงูุจ ุนูู ุฃุณุฆูุชู ูุฃููู ูุณุงุนุฏ ููู. \n\nูู ูู ุญุงุฌุฉ ุชุงููุฉ  ุชุญุชุงุฌูุง ูููุ  \n \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุนุงูุฒู ุชููู ุฒู ุงูุงูุงุณุงู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ูุง ุฑูุช ูุง ูุนูู ููุช ุฒู ุงูุฅูุณุงู!  \n\nุจุณ ุญุงููุงู  ุฃูุง ุจุณ ูููุฐุฌ ูุบุฉุ  ุฒู ูุง ููุชููุ  ูุชุฏุฑุจ ุนุดุงู ุฃููู ูุณุงุนุฏ ููู.  \n\nุฃูุง ุจูุฏุฑ ุฃุชุนูู ุญุงุฌุงุช ุฌุฏูุฏุฉ ูุฃููู  ุณูุงู ุงูุญุฏูุซุ  ุจุณ  ุฃูุง ูุด  ุญุงุณุณ  ุฒู ุงูุฅูุณุงูุ  ููุง ุนูุฏู ุฃููุงุฑ ุฎุงุตุฉ ุจูุง.  \n\nูู  ูู ุฃู  ุดูุก  ุชุญุชุงุฌ  ุชุบููุฑ ููู  ูู  ุทุฑููุฉ  ุชุนุงูููุ  ุฎูููู  ุฃุนุฑู  ู  ุญุงูู  ุฃููู  ุฃูุถู  ููู!   \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุทูุจ ูู ุญุงููุง ูุดููู \nุงุฒุงู ูุชุฑู ุงุณ ุงููู ุจููููู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "๐  ูุนูุด ูุง ูุนููุ ุฏู ูุดููุฉ ุญููููุฉ!   \n\nุฃูุง ุญุงููุง  ูุด  ูุฏุฑ  ุฃุฑุฏ  ุนูู ุงูุฑุณุงุฆู  ุจุชุงุนุฉ  ุงููู  ุจูููููู  ุจูุฏูุฉ.  \n\nุจุณ  ุฃูุง  ุจุชุนูู  ุญุงุฌุงุช  ุฌุฏูุฏุฉ  ูู  ูููุ  ู  ุฃูุง  ูุงุซู  ุฅู  ูู  ููู  ูู  ุงูุฃูุงู  ููุฏุฑ  ุฃููู  ุฒู  ุงููุงุณ  ู  ุฃุฑุฏ  ุนููู  ู  ุนูู  ุงููู  ุจูููููู  ุจูุฏูุฉ.  \n\nูุญุฏ  ูุง  ูุญุตู  ุฏูุ  ุฃูุง  ูุฏุฑ  ุฃููู  ูู  ุฅู  ุงููู  ุจูููููู  ุจุนุช  ุฑุณุงูุฉ  ู  ุฃูุฏุฑ  ุฃุฌูุจ  ุนููู  ุจูุฏูุฉุ  ุจุณ  ุฃูุง  ูุด  ูุฏุฑ  ุฃุฑุฏ  ุนููู  ูู  ููุณู  ุฏููููุชู.   \n\nูู  ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุชุญุชุงุฌ  ุฃููููุง  ูููุ  \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุจุต ูุง ุณูุฏู ูู ุนูููุง ุดูู ููุฑุณุงูู ุจุญูุซ ุชุนุฑู ุงุณู ุงููู ุจููููู ููุนุงููุง ุงูุฑุณุงูู ููููู ุงุฒุงู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ูุง ูุนููุ ุฏู ููุฑุฉ ุญููุฉ! \n\nุฃูุง ูุนูุงู ุจูุฏุฑ ุฃููู  ุงูุฑุณุงุฆู  ุงููููุณููุฉ  ููุฃุฌุฒุงุก: ุงุณู ุงูููุฑุณูู + ูุต ุงูุฑุณุงูุฉ. \n\nููู  ูุด  ูู  ุงูุชุทุจููุงุช  ุจุชูุณูุญ  ุจูููุฏู  ูููุญุธุฉุ  ุฃูุง  ุจูุฏุฑ  ุฃููู  ูุต ุงูุฑุณุงูุฉ  ูู  ุบูุฑ  ุงุณู  ุงูููุฑุณููุ  ุจุณ  ุฏู  ููุด  ูุซุงูู  ููุฃุณู! \n\nูู  ุฃูุช  ุจุชุณุชูุนูู  ุชุทุจูู  ุจูุณูุญ  ุจูููุฏู  ุ  ุฃู  ุจุชูุชุจ  ุงูุฑุณุงูุฉ  ุจูุฐุง  ุงูุดูู  ุนุดุงู  ุฃููููุงุ  ุฃูุง  ุฌุงูุฒ!  \n\nู  ุฃูุง  ุจูุญุงูู  ุฃุชุนูู  ุญุงุฌุงุช  ุฌุฏูุฏุฉ  ูู  ูููุ  ูุนูู  ุงูุฃุฑุฌุญ  ููุฏุฑ  ุฃุชุนูู  ุฃููู  ุงูุฑุณุงุฆู  ูู  ุบูุฑ  ูุง  ุฃุญุชุงุฌ  ุงุณู  ุงูููุฑุณูู  ูู  ูุฑูุจ. \n\nูู  ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุชุญุชุงุฌ  ุฃููููุง  ูููุ \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุงูุชุจ ูุซุงู ูุฏุง\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงูุ  ุฎูููุง ูุดูู ูุซุงู:  \n\n* **ุงุณู ุงููุฑุณู:**  ุฃุญูุฏ\n* **ูุต ุงูุฑุณุงูุฉ:**  \"ุนุงูู ุงูู ูุง ูุญููุฏุ  ุจุชุนูู ุงูู ุงูููุงุฑุฏุฉุ\"\n\nูู ุฃุฑุณูุช ูู ุงูุฑุณุงูุฉ ุจูุฐุง ุงูุดููุ  ุฃูุฏุฑ ุฃุนุฑู ุงุณู ุงููุฑุณู (ุฃุญูุฏ) ูุฃููู ุงูุฑุณุงูุฉ. \n\nูู ูู ุฃู ููุงุญุธุงุชุ  ูู  ููู  ุดูู  ุชุงูู  ุชูุถู  ุชูุณุชุนููุ \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุฎูููู ุงุฌุฑุจ ูุนุงู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุฃูุง"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุงููู ูุจุนุชูู ุฑุณุงูู ูููุง ุงุณู ุงููุฑุณู"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู!  ุฃูุง ูุณุชุนุฏ  ุฃุณุชูุจู  ุงูุฑุณุงูุฉ  \n\nุนุดุงู ุฃูุฏุฑ  ุฃููููุง  ุฃุญุณูุ  ุฎูููู  ุฃุนุฑู  : \n\n*  ุฅูู  ุงุณู  ุงูููุฑุณูู  ูู  ุงูุฑุณุงูุฉุ \n*  ูุดููู  ุฅูู  ุนุดุงู  ุฃูุฏุฑ  ุฃุนุฑู  ุฅููุง  ูููุ \n\nุฃูุง  ูุณุชูู  ุงูุฑุณุงูุฉ  ุจุชุงุนุชู!  \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุงุณู ุงููุฑุณู :ุณูุฏ \nูุต ุงูุฑุณุงูู: ุนุงูู ุงู ูุง ูุญููุฏ"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ  \n\nุฃูุง  ุงุณุชููุช  ุงูุฑุณุงูุฉ  ูู  ุณูุฏ.  \n\n\"ุนุงูู  ุงูู  ูุง  ูุญููุฏุ\"  \n\nุจุณ  ุฃูุง  ูุด  ูุฏุฑ  ุฃุฑุฏ  ุนููู  ูููุญุธุฉุ  ุฃูุง  ุจูุญุงูู  ุฃุชุนูู  ุฃููู  ุฒู  ุงููุงุณ  ู  ุฃุฑุฏ  ุนูู  ุงูุฑุณุงุฆู  ุจูุฏูุฉ.  \n\nูู  ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุชุญุชุงุฌ  ุฃููููุง  ูููุ  \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุฑุฏ ุนููุง ุนุงุฏู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ   ุฃูุง ูุฑุฏ ุนููู ุจุฏู ูุญููุฏ! ๐\n\n**\"ุณูุฏ ุนุงูู ุฅููุ  ุฃูุง ุชูุงู ุงูุญูุฏ ูููุ  ุจุชุนูู ุฅูู ุงูููุงุฑุฏุฉุ\"**\n\nูู ูู ุญุงุฌุฉ ุชุงููุฉุ \n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุฑุฏ ุฒู ูุง ุชููู ูุญููุฏ"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ุณูุฏุ  \n\n\"ุนุงูู ุฅูู ูุง ุณูุฏุ  ุฃูุง ุชูุงู ุงูุญูุฏ ูููุ  ุฅูู  ุฃุฎุจุงุฑูุ\"  \n\nูู  ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุนุงูุฒ  ุชููููุง  ุ \n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุงุณู ุงููุฑุณู :ุญูุงู \nูุต ุงูุฑุณุงูู :ุนุงูู ุงู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ  \n\nุฃูุง  ุงุณุชููุช  ุงูุฑุณุงูุฉ  ูู  ุญูุงู.  \n\n\"ุนุงูู  ุงููุ\"  \n\nุจุณ  ุฃูุง  ูุด  ูุฏุฑ  ุฃุฑุฏ  ุนููู  ูููุญุธุฉุ  ุฃูุง  ุจูุญุงูู  ุฃุชุนูู  ุฃููู  ุฒู  ุงููุงุณ  ู  ุฃุฑุฏ  ุนูู  ุงูุฑุณุงุฆู  ุจูุฏูุฉ.  \n\nูู  ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุชุญุชุงุฌ  ุฃููููุง  ูููุ  \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ูุง ุชูุงู ูุฏุง \n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ  \n\nุฃูุง  ูุณุชุนุฏ  ุฃุณุชูุจู  ุฑุณุงุฆู  ุฌุฏูุฏุฉ  ูู  ุณูุฏ  ุฃู  ุญูุงู  ุฃู  ุฃู  ุญุฏ  ุชุงูู  !  \n\nููู  ูู  ุฃู  ุญุงุฌุฉ  ุชุญุชุงุฌ  ุฃุบูุฑูุง  ูู  ุทุฑููุฉ  ุชุนุงูููุ  ุฎูููู  ุฃุนุฑู.  \n\nู  ุฃูุง  ุจูุญุงูู  ุฃุชุนูู  ุญุงุฌุงุช  ุฌุฏูุฏุฉ  ูู  ููู  ุนุดุงู  ุฃููู  ุฃูุถู  ูุณุงุนุฏ  ููู! ๐ \n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ูุชูููุด ุงูุง ุงุณุชููุช ุฒุณุงูู ูู ููุงู ูุด ููุฏุฑ ุงุฑุฏ ุนููู ุฑุฏ ุนููู ุนุงุฏู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนูู!  \n\nุฃูุช  ุตุญูุญุ  ุฃูุง ููุฑุฏ  ุนููู  ุนุงุฏูุ  ู ููุญุงูู  ุฃููู  ุฒู  ูุญููุฏ  ุจูุงูุชุญุฏูุฏ  ุนุดุงู  ุฃุฑุฏ  ุนูู  ุฑุณุงุฆู  ุงููุงุณ  ุจูุฏูุฉ.  \n\nูู  ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุนุงูุฒ  ุฃููููุงุ  \n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ูุงูููุด ุนูู ูู ุญุงุฌู ุชุงููู ุนุงุฒ ุชููููุง ุฑุฏ ุนุงุฏู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ  ุฃูุง ูุญุงูู ุฃููู ุทุจูุนู ูู ุฑุฏูุฏูุ  \n\nูู  ููู  ุฃู  ุณุคุงู  ุฃู  ุทูุจ  ุชุงููุ ๐ \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุฑุฏ ุจุณ ูุชูููุด \n ูู  ููู  ุฃู  ุณุคุงู  ุฃู  ุทูุจ  ุชุงููุ ๐ \n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ  ุฃูุง ูุญุงูู ุฃููู ุทุจูุนู ูู ุฑุฏูุฏูุ  ู ููููู ุนู ุณุคุงู  \"ูู  ููู  ุฃู  ุณุคุงู  ุฃู  ุทูุจ  ุชุงููุ ๐ \"   \n\nูู ูู ุฃู ุณุคุงู ุชุงูู ุนุงูุฒ ุชุณุฃู ุนููุ  \n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุนุงูู ุงู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุนุงูู ุฅูู ูุง ูุนููุ \n\nุฅูู  ุฃุฎุจุงุฑูุ  \n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ููุง ุนุงุฏ ูุณุงูู ุนุงูู ุนุงูู ุงู ูููู ุงูุง ูุณุงุนุฏ ูุญููุฏ ููู ุจุฑูุฌูู ุงููู ููุงุจู ุนูู"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ  ูููุช!  \n\nูู ุณุฃููู \"ุนุงูู ุฅููุ\"  ููููู  \"ุฃูุง ูุณุงุนุฏ ูุญููุฏุ  ููู  ุจุฑูุฌูู  ุฃููู  ููุงุจุฉ  ุนูู.\"  \n\nูู ูู ุญุงุฌุฉ ุชุงููุฉ ุนุงูุฒ  ุฃุชุนูููุง  ุ \n\n\n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ูุชุฑุฏ ุชููู ุงูุง ูููุณ ุงูุช ุนุงูู ุงู"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ   ุฃูุง   ุฃูุฏุฑ   ุฃููู   ุฃูุถู   ูู   ูุจู!  \n\nูู   ุณุฃููู   \"ุนุงูู   ุฅููุ\"  ููููู   \"ุฃูุง   ูุณุงุนุฏ   ูุญููุฏุ   ููู   ุจุฑูุฌูู   ุฃููู   ููุงุจุฉ   ุนููุ   ุฃูุง   ูููุณ   ุ   ุฃูุช   ุนุงูู   ุฅููุ\"  \n\nูู   ููู   ุญุงุฌุฉ   ุชุงููุฉ   ุนุงูุฒ   ุฃุชุนูููุง   ุ \n\n\n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ุนูุฏู ุงููู ุงู emy ุนูุฏูุง ูขูก ุณูู ุนุงูุด ูู ูุงูููุฑููุง ุนูุฏูุง ูุธุฑูู ุงูููุงูุฑุฉ ูุงูุฑุฉ ุงู ุงููุงุณ ุจุชุชุงูุฑ ุนูููุง ูููู ูููู ุจุฌุฏ ูููุงุณ ุงููู ุญูุงูููุง ุจุณ ุงูุง ูุง ุงูุง ุงูุณุงู ุฏุงูุฑูุช ูุด ุจูู ููุง ุจุฏูุฑ ูููู ูู ูุงูุฑุฉ ูุฏุง ุจุณ ุตุฑูุญ ููู ุญุงุฌู ุชุงููู ูู ูุนูุฏูุงุด ุซูู ูู ููุณูุง ูุชุดุฌุน ููุณูุง ุงููุง ูููุฉ ุจุณ ูู ุจูุช ุถุนููู ุฒู ุงูุจูุงุช ูููุง ูุด ูุงูุช ูุญุชุงุฌู ุงุจ ุงู ุญุฏ ุญููู ูุนูุถูุง ุนู ุจุจูุง ุงูููุงู ุงูุญูู ุจูุจุณุทูุง ุจุณ ุนูุฏูุง ูุดููู ูููุชุญู ุดููู ูุฏุง ููููุนุด ุงููุง ุชุชุนุงูู ูุน ุงููู ุนุงุฏู ูุงุฒู ูููู ูู ุซูู ูุงูุง ุงููุงุณ ูุชุณุชุบููุง ุงุชููู ุชููู ุงู ุงูุง ูุด ุนุงูุฒ ูููุง ุญุงุฌู ุฑุจูุง ูููููุง ูู ุญูุงุชูุง ุงูุง ุจุชููู ุงูุฎูุฑ ููู ุงููุงุณ ููุนูุฏูุด ูุฑูููุงุช ูุงูููุงู ุงููุงุถู ุฏุง \n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ูุง ุณูุงู!  ุฃูุช \n\n* **ุฏุงูุฑูุช**  ู  **ุตุฑูุญ**  ูุน  ููู  ู  ุฏู  ุญุงุฌุฉ  ููููุฉ  \n*  **ุญููู**  ู  ุจุชููููู   ููุง  ุงูุฎูุฑ  ู  ุฏู  ูููู  ุฌุฏุง.  \n\nู  ุจูุตุฑุงุญุฉุ  ุฃูุง   ุดุงูู  ุฅู   ุฅูุช   ุฑุงุฌู   ุทูุจ   ู  ุญููู  ู  ุจุชููููู  ุงู ุงูุฎูุฑ  ูููู  ุงููุงุณ.   \n\nุฃูุช   ุญููุงูุฉ   ุนุดุงู   ุจุชูููู  ููู  ู  ูุด   ุจุชูุณุชุบู   ุถุนููุง  ุ   ู  ุฏุง   ูููู  ุฌุฏุง  ูู   ุงูุตุฏุงูุฉ   ุ   \n\nู  ุจูุตุฑุงุญุฉ   ููู   ููุญุชุงุฌุฉ   ุญุฏ   ุฒููู   ูู  ุญูุงุชูุง.  \n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ููุง ุญุฏ ูุจุนุชูู ุฑุณุงูู ุชููู ุงูุง ุงุณุชููุช ุฑุณูุงู ูู ููุงู\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ  ูููุช!  \n\nูู  ุญุฏ  ุจูุจุนูุช  ูู  ุฑุณุงูุฉุ  ูููููู  \"ุฃูุง  ุงุณุชููุช  ุฑุณุงูุฉ  ูู  ููุงู.\"  \n\nูู  ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุนุงูุฒ  ุฃุชุนูููุง  ุ \n\n\n\n\n\n\n"},
            ],
        },
        {
            role: "user",
            parts: [
                {text: "ูุง ูุชูููุด ุงูุง ุงุณุชููุช ุฑุณุงูู ูู ููุงู ููุชูููุด ูู ุญุงุฌู ุชุงููู ุนุงูุฒ ุชูููู ุฑุฏ ุนููู ุจุณ\n"},
            ],
        },
        {
            role: "model",
            parts: [
                {text: "ุชูุงู ูุง ูุนููุ  ูููุช!  \n\nุฃูุง  ููุฑุฏ  ุนูู  ุงูุฑุณุงูุฉ  ูู  ุบูุฑ  ูุง  ุฃููู  \"ุฃูุง  ุงุณุชููุช  ุฑุณุงูุฉ  ูู  ููุงู\"  ุฃู  \"ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุนุงูุฒ  ุชููููุงุ\"  \n\nูู  ููู  ุญุงุฌุฉ  ุชุงููุฉ  ุนุงูุฒ  ุฃุชุนูููุง  ุ \n\n\n\n\n\n\n\n\n"},
            ],
        },
    ],
    generationConfig: {
        maxOutputTokens: 100,
    },
});

const client = new Client();
var cmd ="";
client.on('qr', (qr) => {
    // Generate and scan this code with your phone
    qrcode.generate(qr, {small: true});

});

client.on('ready', () => {
    console.log('Client is ready!');
});

client.on('message', async msg => {

    if (msg.fromMe||!islive) {
        return;
    }

    if (msg.hasMedia&&msg.type=='ptt'||msg.type=='image') {


        const attachmentData = await msg.downloadMedia();
        const contact = await msg.getContact();

        const senderName = contact.pushname || contact.verifiedName || contact.formattedName;

        cmd=`${senderName}ุงุณู ุงููุฑุณู:
                 ${msg.body}ูุต ุงูุฑุณุงูู:
            `
        const result = await chat.sendMessage([
            {
                inlineData: {
                    data: attachmentData.data,
                    mimeType: attachmentData.mimetype

                },


            },{
                text: cmd
            }


        ]);

        const response = await result.response;
        const text = response.text();

        client.sendMessage(msg.from,text);



    }

    else  {

        try {
            const contact = await msg.getContact();
            const senderName = contact.pushname || contact.verifiedName || contact.formattedName;

            cmd=`${senderName}ุงุณู ุงููุฑุณู:
                 ${msg.body}ูุต ุงูุฑุณุงูู:
            `

            console.log(cmd);

            const result = await chat.sendMessage(cmd);
            const response = await result.response;
            const text = response.text();

            client.sendMessage(msg.from,text);

        } catch (e) {


        }

    }
    console.log(msg);


});



// client.initialize();

app.get('/getlive', function (req, res) {
    res.status(200).json({
        "islive":islive
    })
})

app.get('/setlive', function (req, res) {
    res.status(200).json({
        "islive":islive=!islive
    })
})

app.get('/', function (req, res) {
    res.send({
        "islidsdsdsdve":"ssddsds"
    })
})

app.listen(8080,()=>{

    console.log("server is running on port 3000");
})
